# Спам Лорд

> Авторами данного задания являются коллеги из Стэнфордского университета, читавшие несколько лет тому назад курс по методам анализа естественных языков, - профессора Кристофер Маннинг и Дэн Юрафски.

Это ваш шанс побыть Спам Лордом! Да, вы поняли правильно - у вас есть шанс применить знания регулярных выражений, что бы помочь злу распространиться по Галактике!

Если быть чуть точнее, то целью вашего задания является написать регулярные выражения, которые позволят найти номера телефонов и электронных почтовых ящиков из веб-страниц ничего не подозревающих граждан. Что мы сделаем с ними потом, это уже совсем другая история, а пока...

...начнем с простого примера, пусть дана строка:

```
Hi, my name is Dan. And this is my e-mail address - <jurafsky@stanford.edu>. Please feel free to reach me.
```

ваша задача вернуть:

```
<jurafsky@stanford.edu>
```

Но не все так просто. Вы должны также справится и с более сложными случаями, когда некоторые люди пытаются скрыть свои адреса, как, например, в следующих примерах, которые вы скорее всего неоднократно встречали:

```
jurafsky(at)cs.stanford.edu
```
```
jurafsky at csli dot stanford dot edu
```

Но и это еще не все, вы также должны обрабатывать даже такие примеры, как например этот (что бы этот пример был виден на вашем экране, здесь используются метасимволы):

```
<script type="text/javascript">obfuscate('stanford.edu','jurafsky')</script>
```

Для всех этих случаев, вы должны вернуть соответствующие адреса электронных почтовых ящиков

```
<jurafsky@cs.stanford.edu> ИЛИ <jurafsky@csli.stanford.edu> ИЛИ <jurafsky@stanford.edu>  
```
соответственно.

Аналогично, в случаях с телефонными номерами, вы должны обрабатывать должным образом примеры строк, показанные ниже:

```
TEL +1-650-723-0293
```
```
Phone:  (650) 723-0293
```
```
Tel (+1): 650-723-0293
```
```
<a href="contact.html">TEL</a> +1&thinsp;650&thinsp;723&thinsp;0293
```

для всех, вы должны вернуть номер телефона в канонической форме:

```
650-723-0293
```

(считайте, что если не дан код страны, то номера из региона Северная Америка. Код страны/региона возвращать не надо, если он не отличается от `+1`).

Для того, что бы сделать вашу жизнь чуть-чуть легче, мы предоставляем вам [некоторые данные (development test set)](.), что бы вы могли протестировать ваш код. В данном случае это документы с адресами электронной почты и телефонами и правильные ответы, таким образом вы можете проверить, что ваш код возвращает всю и только правильную информацию.

Ваша оценка будет зависеть от того, насколько хорошо ваши регулярные выражения будут находить адреса ящиков электронной почты и телефонные номера на другом наборе данных (test set), который есть у нас. Поскольку вы точно не знаете, как там скрыта интересующая нас информация, вы должны проявить фантазию в том, как можно закодировать адреса ящиков электронной почты и номера телефонов, т.е. не рассчитывайте, что будут использованы только варианты перечисленные выше, либо те, что будут из набора данных, доступного вам.

**Вам не следует обращать внимание на**: действительно сложные примеры, такие как картинки или звуковые файлы,  или случаи когда вам нужно выполнить разбор текста, что бы извлечь имена, что бы корректно обработать  примеры типа:

```
"first name"@cs.stanford.edu
```

хотя нет, я передумал, в последнем случае вы получите за это дополнительные баллы (картинки и звук по-прежнему обрабатывать не стоит), так же не надо обрабатывать (пока) такие случаи, как на старой странице Джима Мартина, чей адрес написан только в такой форме:

```
To send me email, try the simplest address that makes sense.
```

---

Так как мы будем тестировать ваш код, то ваша программа должна быть написана на C++ (стандарт с++17, только стандартные библиотеки) или Python (2.7.x или 3.9.x, только стандартные пакеты). Весь код должен быть в одном файле, в противном случае в архиве должен быть make-файл для сборки.

Предполагается, что программа читает файл INPUT из директории запуска, в котором перечислены все файлы для обработки - разделитель перевод строки. Если файл, указанный для обработки отсутствует, программа должна его пропустить и перейти к следующему файлу из списка. Результат записывается в файл OUTPUT в директории запуска программы. Ввод/вывод на стандартную консоль должен отсутствовать, его наличие будет считаться ошибкой. Формат вывода результатов в файл OUTPUT можно посмотреть в примере devGOLD.
